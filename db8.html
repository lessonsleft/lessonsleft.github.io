<meta charset="ISO-8859-1">
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
<body>First name: <input type="text" id="fname"></input> Surname: <input type="text" id="sname"></input> Year group: <input type="number" id="year"></input></br></br>Password (should have been given to you): <input type="password" id="password"></input> <span id="rememberp"><label for="remember">Remember details (uses a cookie)</label><input type="checkbox" id="remember"></input></span> <button onclick="submit()">Submit</button> <span id="error" style="color:red"></span><br><br><br>Don't worry, none of the data you input here leaves your computer or enters any external servers. It is purely for your convenience.</body>
<script>
if (localStorage.getItem('token')) {
   var token = localStorage.getItem('token').split(" ")
   document.getElementById('fname').value = window.atob(token[0])
   document.getElementById('sname').value = window.atob(token[1])
   document.getElementById('year').value = token[2]
   document.getElementById('password').value = token[3]
   document.getElementById('rememberp').innerHTML = `<a href="javascript:deletecookie()">Forget details</a>`
}
function deletecookie() {
   localStorage.removeItem('token')
   document.getElementById('rememberp').innerHTML = `<label for="remember">Remember details (uses a cookie)</label><input type="checkbox" id="remember"></input>`
}
var string = "U2FsdGVkX1+ygsNRGZbmhT5RQgl4afe4u28mcNiDwyGoApy5XiXqQ/8jrTE/J008+v3fnBQ2eGUqKnYEZ97p2XcXx0VfkvMsAI6WaCkSGuK5Eh2q7s9lrCyhLWa8Idjvg5HyS/9U7iJFl8ZeeHbP+ODTy+KUxVcdJ212/wXPR3iC4MjwOM6Z9lJE4VUXdv7JDfX9cheZxsbWz6LTi7Ut5Q+PSF7IS8B+2HEacZeDWvqT9cBLZMq3T/ZVAHnSQkG6IUWC8/xasiVHvQqhAQjxU5dj1SUsUqKV1ga930RY1oyvO1uKvvWmIOv+S4jTAX7LgCU/UJlZIyHxr0mdPtLKlPC4Nv08+qL5Rkt5cXu7mLpmpTdAIiQDEqp4U0mzwlTpuUn+ZQvHXLS9ZpX/2rsuGTbo5SiX1bs+jbGu7hN+kjNue7Bymnmk1cFkHbGiVpv+ciwC489hgeXSrWzPOnOZrIcn9TbtxAd/11xFyik6ycZdg0HZ7ojNLiTNs/5hy5WRusTwYSrIuucXvSBQItZoV7DcxiPd6iW+V07XC3vQXAVAB2u86atI/V4l1EmIOo9rSpvxDTfjoWsypIDNoqZTPFC0+Q877oWYk9AFGT0nhIbDjHo/JqXekggT/VL7Yl5AbPawlqHgOw/gmkDf0tpt9ova8tfVtfzMimLbq67GyBrFMb4aInbtOtUG2QnDyDZxOXRUKv6SmQMxjznuaXxlXlDItMFPhd2P48OtDNOzMAq52Y+/Tp7fAcqUYihfjtIfiqCJogOqNM4ohDGP0fQZsKDPsO59GkT227c5uux2KNqjj8iMsNYOIllOH6jfU/fx87pNxApmgeIppD3dPgQxyX6LYnW4P/Yfl+GNwen77xvAO6uQAKScMxDG/aqufsRK+8mFrFeZH8+o5gOgRrQQXQdXK3U0fpnWZwALFc7vlJPP4yTWTYBPyTaR7VsZFzZDWoyPyoMD8FT54rO5K7+c67X6De9J2t59sbkCFBQ902xJxADxom0j6R40ajkqQMrSPVVn/6Eg987CLYvjFXU7SPFMZqKXBIgH9emxyQelmSP9JCqwPIGUgF2xSgpjkYBhUP3luw/MCNmWQPlVOW16ck3XIUKJtj9k5Gy1YPKZiwZzvpvDZZ2Ak7ThiHUQNVtcwRL5WwycRnV+/wdvPDb+D9JToIqwBklxbm54gW+5+RgwHNrPBB1/AK2ngdfINHAI2D7Eurm/rit8MQczgAjNnWDvdXleROOwPfPfolVnqm4finYkysnt2FkWOIQX2A5M1gRD1IJ1/vC0rMQ7PwVPFflNCma1uvRWaWGt7Lpi8eIbGrBdbUDkPqDM9iSvo0+4bZaOLWwnErgdsus2fDIszr4C7fT17b032ELdyJsVVkpX4m421EsikGoeObWWSPbz2MS5yKpshFs5kJ6Dq+CTNeYHTKXYjKl3PsKV53P4y9kGNBNpjoMEDrsSD72FXByLs3taVqJfiL557Y670ts8FCA3Tinbx21ixx7HW7D+2uj5d06etePvWQfdxQ2kzbQ3besfxMcQHWQij3ttC/xD4Dv90kWZlfTFgiTNVsJTnEGQkVeYxszLH9mIr6LGYv5ScMJ6Op33iY1yewHdWi5t6mcgVl2SVn6Nk9tD1BJK4TyHR+/bHL4Ni6JljspqWpT88a/siuYYLtAydsuaGVqH81e5nq82FEvY7z8F6dARQqgADCpdt9IV2k6Oj9WLHtUOmpGxe1WvBdYsPnkOGLcy2UG+s3Mmq8ICy/y8JpKsSQ28NJHFnuNi7ojLAtxvDHB+olw8Rlp2G5NSwng7rbkYZrTF0EeKAHDVzJZ01BcnYVyRkX5ZWvh5Ri9K5kir9tNQLPtmEQIysXSnZQgjirDj3QQIbnpec/35Y/UtrbmPm6MxuDl2f4HaH621+D1rkfl3"
var name = ""
var dbname = "db1cis"
function submit() {
   var password = document.getElementById('password').value
   var decrypt = ""
   try {
      decrypt = CryptoJS.AES.decrypt(string, password).toString(CryptoJS.enc.Utf8)
   }
   catch {
      document.getElementById('error').innerHTML = "Password is incorrect"
      throw "Incorrect password"
   }
   if (!decrypt.includes("debate")) {
      document.getElementById('error').innerHTML = "Password is incorrect"
      throw "Incorrect password"
   }
   var fname = document.getElementById('fname').value
   fname = fname.replace(/-/g, "").replace(/ /g, "").replace(/&/g, "").replace(/>/g, "").replace(/</g, "").replace(/"/g, "").toLowerCase()
   var sname = document.getElementById('sname').value
   sname = sname.replace(/-/g, "").replace(/ /g, "").replace(/&/g, "").replace(/>/g, "").replace(/</g, "").replace(/"/g, "").toLowerCase()
   if (fname == "" || sname == "") {
      document.getElementById('error').innerHTML = "Please enter a valid name"
      throw "Invalid name"
   }
   var year = document.getElementById('year').value
   year = Number(year.replace(/\D/g,''))
   if (year < 7 || year > 13) {
      document.getElementById('error').innerHTML = "Please enter a valid year"
      throw "Invalid year"
   }
   year = year.toString()
   var name = fname + sname
   name = name.substring(0, 32-year.length-dbname.length) + year + dbname
   if (document.getElementById('remember')) {
      if (document.getElementById('remember').checked) localStorage.setItem('token', window.btoa(document.getElementById('fname').value) + " " + window.btoa(document.getElementById('sname').value) + " " + year + " " + password)
   }
   document.body.innerHTML = decrypt
   document.getElementById('name').innerHTML = name
}
</script>
</html>
