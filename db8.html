<meta charset="ISO-8859-1">
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
<body>First name: <input type="text" id="fname"></input> Surname: <input type="text" id="sname"></input> Year group: <input type="number" id="year"></input></br></br>Password (should have been given to you): <input type="password" id="password"></input> <span id="rememberp"><label for="remember">Remember details (uses a cookie)</label><input type="checkbox" id="remember"></input></span> <button onclick="submit()">Submit</button> <span id="error" style="color:red"></span><br><br><br>Don't worry, none of the data you input here leaves your computer or enters any external servers. It is purely for your convenience.</body>
<script>
if (localStorage.getItem('token')) {
   var token = localStorage.getItem('token').split(" ")
   document.getElementById('fname').value = window.atob(token[0])
   document.getElementById('sname').value = window.atob(token[1])
   document.getElementById('year').value = token[2]
   document.getElementById('password').value = token[3]
   document.getElementById('rememberp').innerHTML = `<a href="javascript:deletecookie()">Forget details</a>`
}
function deletecookie() {
   localStorage.removeItem('token')
   document.getElementById('rememberp').innerHTML = `<label for="remember">Remember details (uses a cookie)</label><input type="checkbox" id="remember"></input>`
}
var string = "U2FsdGVkX1/ac7BhjqkVIDY0snoP9h0FkbySTFLdCe1f8P8epXNc55HiIPESZR66O5lF0CpcfVrzy4Fawal/3gSJ5+RwuLKfvg3mkkYPPAMEJx2QasgGvXCLUdRtYWo6x07kn1NRi5iwcumpqTd1i76FRZWt9RD/PEkaMZClEKQbC9fmIv8jog1nJpZKd/qtwr83EsGoA4uC47m6wg+AhkYyztwhttjylMZ7fJAmkYK3H8nC2Ri4NpB9V5nXFDPN2ZRdftVHidWIY1w8VW0HP760IVRq8M8UuadHu1a+qkQT4klis9uew0TvDHbw1oLqayeI18lTBUVFhwUY8UH6mSSgy+LtIi90H5rFpARDXvp2C0n9QYXaCSh1OU9yvp//jSJTjbpmyMnYC6nlOyvJYUvpc8uATuTWl3CHdwoX3g7cuY6LhCMHzaqj59yR/xY1MfDxQ+q2DY5ZuECZoKmPnPpubwNRWv28zcj3TAEH8w7rmdpSYUNNzLlg+nqk95ds5PHZ09ohx153HL6KwNsFhAVinnoQIo5tcUZPwWxrsn1ChcBnPZPA1GhXDgpAjLfXljHTcKzvpFJFuKiTGgIUuykSIw0vxj/6UaEU5w0Zw19JZZM1jDgi1TU+qmrtFxYKcXniwwcdf/GnHcrdCIIFo4utRkiefcs+zKHhfHHwQ1boKtW14MqQHYTHpeveRWMCXOWW9A9K7Mc++A4U3O+QwhJoktpvlXXHnHjQgodIQYjuPpGywaMJDvQ0/+JIy7ZCVuLMnE5SyJF+IHTgrHMtK0grvVJoNOJrfLux2/+abOLnI5jUVuTjJbkL9I7Vy9wWyekXEQoDmibOClpSWGIq4HetMjq2NmttnEuJRkOxMRaH9Jv94T2y7v+NfpFGGgLtZd07957uoWR8w+20vx4jTTKh0K+wwx30vU+DPss7K6BmlXMe2eESSe5sUbd9IpAa2JUBxmsqsWT+1eVkSxxexYJk2TfAuw1b6eyDNqR5YT2gWzpN2GVcT+bEFBAVP3ikZJ/1j2A3Tu0yvbbiAe/scVm62w1i0UbW4cUKz0XFusMY/+E/uSsG5s8KICqdHlnMDQX6qpsWIXL/Y0nt+LHu2aww/kjhCDy/DwSs3XVGCVs7PufQoDfiyABOv9cVJM8ZV5S5WMM6Rov1TOy7OkAXeA4OYq0ujOX4+CMW9OYkFETLT7RZs+x+5FAJCjFshgZvjxpsf9TWY2sSvDIMSzbnsqp18COC58vndSZ6wOVC9XJWp2R1VbQPCDFlOGHZKYUYJsRp5wDx8lG4ez1qlaPCHdWTKk3fMFLwamUZvDVsrwGaYhYK/VD3tPPyRVq//bGxhthyCoVbjs44Z1vqAK/rbMmUH0nrFC19q4tNKHHvvV1ZD08KrRyg6NctN0QCOexm+BPRQ88xsUn6PDp8iePxSehjHIA/tk1m4fsD+5w7LL+v2EfRjQ/+mKk2vwqOiR/fE3DJ3misAe9Op4c8jS0ANTvfnh69Jo0PYVA+SfsntbMflJ91XJpTjvYBzM6yzz7knf37qkPWONvwlNjMccBd5fo5/h/KRLgtK7YA1OUJ3R307k6ypgKL38rjjn0lP9/hW8FyUOWN6QSnE8khWgwykW/7rtufW/S+fFJZ4gQ42b8PS4FkQq6oBUbSCmXTVVRNWCqmeD1UCFYMiuKWox7p4F0H9KHZHGGDsS3wPkWAwEjYiyr79IupTzMLCwTT9tKTrhDGSwKLdLnHB8oQbUqKg+1kXaxHbqCr+0JBf4SKNaPFxWvP+pUYV+mqkg8DQVCh"
var name = ""
var dbname = "db1ppe"
function submit() {
   var password = document.getElementById('password').value
   var decrypt = ""
   try {
      decrypt = CryptoJS.AES.decrypt(string, password).toString(CryptoJS.enc.Utf8)
   }
   catch {
      document.getElementById('error').innerHTML = "Password is incorrect"
      throw "Incorrect password"
   }
   if (!decrypt.includes("debate")) {
      document.getElementById('error').innerHTML = "Password is incorrect"
      throw "Incorrect password"
   }
   var fname = document.getElementById('fname').value
   fname = fname.replace(/-/g, "").replace(/ /g, "").replace(/&/g, "").replace(/>/g, "").replace(/</g, "").replace(/"/g, "").toLowerCase()
   var sname = document.getElementById('sname').value
   sname = sname.replace(/-/g, "").replace(/ /g, "").replace(/&/g, "").replace(/>/g, "").replace(/</g, "").replace(/"/g, "").toLowerCase()
   if (fname == "" || sname == "") {
      document.getElementById('error').innerHTML = "Please enter a valid name"
      throw "Invalid name"
   }
   var year = document.getElementById('year').value
   year = Number(year.replace(/\D/g,''))
   if (year < 7 || year > 13) {
      document.getElementById('error').innerHTML = "Please enter a valid year"
      throw "Invalid year"
   }
   year = year.toString()
   var name = fname + sname
   name = name.substring(0, 32-year.length-dbname.length) + year + dbname
   if (document.getElementById('remember')) {
      if (document.getElementById('remember').checked) localStorage.setItem('token', window.btoa(document.getElementById('fname').value) + " " + window.btoa(document.getElementById('sname').value) + " " + year + " " + password)
   }
   document.body.innerHTML = decrypt
   document.getElementById('name').innerHTML = name
}
</script>
</html>
